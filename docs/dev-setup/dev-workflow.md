




[[toc]]


# Working on Local Machine

## Update files from remote GitHub repository 

1. Assuming you use the GitHub remote alias `scimain` and are working on the branch `main`:
```bash
git pull scimain main
```

## Start local MkDocs Server

1. Open a new Terminal window
2. Navigate to `~/scidev`, start the python3 `venv`
```bash
cd ~/scidev
source envsdir/mdocs/bin/activate
``` 
3. In the `venv` go to MkDocs root directory `~/scidev/notesite` and start the local MkDocs server 
```bash
cd ~/scidev/notesite
mkdocs serve
``` 
4. MkDocs will build and store the website HTML in `~/scidev/notesite/site`. 
    - View the site on your web browser by going to `http://127.0.0.1:8000/`
5. Leave the Terminal window open so MkDocs can keep the local site updated as you edit the local files. 
    - Sometimes MkDocs will encounter errors and stop creating the site. Simply return to that Terminal window and restart the server with `mkdocs serve`

---

# Updating local and GitHub files

## Build HTML Site with MkDocs in the python3 `venv`

After updating the markdown documents in `scidev/notesite/docs`, use a new Terminal window to build and export the HTML site with MkDocs on the `venv`.

```bash
# Move to the python3 virtual env bin directory to activate the venv
cd ~/scidev
source envsdir/mdocs/bin/activate # activate the python3 venv using command `source`
cd ~/scidev/notesite # move to the mkdocs root directory
mkdocs build # build the site with MkDocs
# Exit the virtual machine
deactivate
```

## Sync Local Files with `rsync`

1. Sync Files from `~/scidev/notesite/site` created by `MkDocs` in the `python3 venv` to  `~/scidev/notesite/docs` which is required for hosting on GitHub Pages
    1. `~/scidev/notesite/site` is the HTML Site Created by MkDocs in the python3 venv
    2. After Syncing from `~/scidev/notesite/site`, delete that directory because it is redundant.

```bash
# Move the mkdocs site to the scidev/docs so that GitHub Pages can find it
rsync --archive --progress --recursive --verbose --delete-after ~/scidev/notesite/site/* ~/scidev/docs
# Delete the generated site directory created by `mkdocs build`
rm -vR ~/scidev/notesite/site
# Back-Up Examples of local Docs
rsync --archive --progress --recursive --verbose  ~/Library/Application\ Support/Code/User/keybindings.json ~/scidev/notesite/examples/vscode/keybindings.json
```

## Use Git to Add/Commit To Local Branch and Push to Remote Branch

Set commnit message, go to `scidev`, `add` files for the local `commit`, check `status`:
```bash
# Set Commit Message Variable
commit_message="local: vuebook creation and derailment."
# Add / Commit / Push got Git
cd ~/scidev # Move to root dir of the local Git branch
# Add Changes to Stage Commit on local machine
# Add Directories (Recursive by default)
git add docs # this is the HTML site generated by mkdocs
git add notesite # Because we updated the md files here
git add vuebook
# Add specificl scidev files
git add *.sh # Add Shell Scripts in scidev/
git add *.md # Add Markdown Docs in scidev/
git add .gitignore # Sync the .gitignore file
# Check status before local commit
git status
```

If `status` is good, attempt local `commit`. Then check `remote` before attempting `push`
```bash
# Create a Commit on local machine branch
git commit -m "$commit_message"
# Check remote alias before push command
git remote --verbose # View the Remote Repository URL Aliases
```

If `commit` goes through, attempt to `push` local `commit` on branch `main` to GitHub remote repo `scimain`
```bash
# Push Changes from the Local Branch `main` and merge them with the Remote Repository Alias `scimain`
git push scimain main
```


